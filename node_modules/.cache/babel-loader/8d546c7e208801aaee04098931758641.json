{"ast":null,"code":"// here we define all the application level states and define actions to make the changes to the state\nexport const initialState={basket:[]};//Selector\nexport const getBasketTotal=basket=>{return basket===null||basket===void 0?void 0:basket.reduce((amount,item)=>item.price+amount,0);};const reducer=(state,action)=>{switch(action.type){case\"ADD_TO_BASKET\":return{...state,basket:[...state.basket,action.item]};case\"REMOVE_FROM_BASKET\":const index=state.basket.findIndex(basketItem=>basketItem.id===action.id);let newBasket=[...state.basket];if(index>=0){newBasket.splice(index,1);}else{console.warn(\"Can't remove product(id: \".concat(action.id,\") as its not in the basket!\"));}return{...state,basket:newBasket};default:return state;}};export default reducer;","map":{"version":3,"names":["initialState","basket","getBasketTotal","reduce","amount","item","price","reducer","state","action","type","index","findIndex","basketItem","id","newBasket","splice","console","warn","concat"],"sources":["/Users/mac/project/react-project/eshop/src/reducer.js"],"sourcesContent":["// here we define all the application level states and define actions to make the changes to the state\r\n\r\nexport const initialState = {\r\n    basket: [],\r\n};\r\n\r\n//Selector\r\n\r\nexport const getBasketTotal = (basket) => {\r\n    return(basket?.reduce((amount, item) => item.price + amount, 0));\r\n}\r\n\r\nconst reducer = (state, action) => {\r\n    switch(action.type) {\r\n        case \"ADD_TO_BASKET\":\r\n            return {\r\n                ...state,\r\n                basket: [...state.basket, action.item],\r\n            }\r\n        \r\n        case \"REMOVE_FROM_BASKET\":\r\n            const index = state.basket.findIndex(\r\n                (basketItem) => basketItem.id === action.id\r\n            );\r\n\r\n            let newBasket = [...state.basket];\r\n\r\n            if (index>=0) {\r\n                newBasket.splice(index, 1);\r\n            } else {\r\n                console.warn(\r\n                    `Can't remove product(id: ${action.id}) as its not in the basket!`\r\n                )\r\n            }\r\n\r\n            return {\r\n                ...state,\r\n                basket: newBasket\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default reducer;"],"mappings":"AAAA;AAEA,MAAO,MAAM,CAAAA,YAAY,CAAG,CACxBC,MAAM,CAAE,EACZ,CAAC,CAED;AAEA,MAAO,MAAM,CAAAC,cAAc,CAAID,MAAM,EAAK,CACtC,MAAO,CAAAA,MAAM,SAANA,MAAM,iBAANA,MAAM,CAAEE,MAAM,CAAC,CAACC,MAAM,CAAEC,IAAI,GAAKA,IAAI,CAACC,KAAK,CAAGF,MAAM,CAAE,CAAC,CAAC,CACnE,CAAC,CAED,KAAM,CAAAG,OAAO,CAAGA,CAACC,KAAK,CAAEC,MAAM,GAAK,CAC/B,OAAOA,MAAM,CAACC,IAAI,EACd,IAAK,eAAe,CAChB,MAAO,CACH,GAAGF,KAAK,CACRP,MAAM,CAAE,CAAC,GAAGO,KAAK,CAACP,MAAM,CAAEQ,MAAM,CAACJ,IAAI,CACzC,CAAC,CAEL,IAAK,oBAAoB,CACrB,KAAM,CAAAM,KAAK,CAAGH,KAAK,CAACP,MAAM,CAACW,SAAS,CAC/BC,UAAU,EAAKA,UAAU,CAACC,EAAE,GAAKL,MAAM,CAACK,EAC7C,CAAC,CAED,GAAI,CAAAC,SAAS,CAAG,CAAC,GAAGP,KAAK,CAACP,MAAM,CAAC,CAEjC,GAAIU,KAAK,EAAE,CAAC,CAAE,CACVI,SAAS,CAACC,MAAM,CAACL,KAAK,CAAE,CAAC,CAAC,CAC9B,CAAC,IAAM,CACHM,OAAO,CAACC,IAAI,6BAAAC,MAAA,CACoBV,MAAM,CAACK,EAAE,+BACzC,CAAC,CACL,CAEA,MAAO,CACH,GAAGN,KAAK,CACRP,MAAM,CAAEc,SACZ,CAAC,CAEL,QACI,MAAO,CAAAP,KAAK,CACpB,CACJ,CAAC,CAED,cAAe,CAAAD,OAAO"},"metadata":{},"sourceType":"module"}